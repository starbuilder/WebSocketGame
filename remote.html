<html>
<head>
    <meta charset="UTF-8" />
    <title>Nodejs - 手機網頁</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=6.0, user-scalable=yes">
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
    <script src="/socket.io/socket.io.js" type="text/javascript"></script>
    <script type="text/javascript" >
    $(document).ready(function() 
        {
            var socket = io.connect("yasuna.no-ip.org:1234");
            "undefined" != typeof console && console.log("user enter via mobile");
             
            "undefined" != typeof console && console.log("enter mobile page");     
            socket.emit("send", {
                key: getUriVars()['key'],
                act: "enter"
            });
            
     
            $("#rotate").click(function(){
                "undefined" != typeof console && console.log("send change color command");
                socket.emit("send", {
                    key: getUriVars()['key'],
                    act: "rotate"
                });
                
            });
            $("#left").click(function(){
                "undefined" != typeof console && console.log("send change color command");
                socket.emit("send", {
                    key: getUriVars()['key'],
                    act: "left"
                });
                
            });
            $("#right").click(function(){
                "undefined" != typeof console && console.log("send change color command");
                socket.emit("send", {
                    key: getUriVars()['key'],
                    act: "right"
                });
                
            });
            $("#down").click(function(){
                "undefined" != typeof console && console.log("send change color command");
                socket.emit("send", {
                    key: getUriVars()['key'],
                    act: "down"
                });
                
            });
            $("#space").click(function(){
                "undefined" != typeof console && console.log("send change color command");
                socket.emit("send", {
                    key: getUriVars()['key'],
                    act: "space"
                });
                
            });
        });
    function getUriVars(){
        var vars = [], hash;
        var hashes = window.location.href.slice(window.location.href.indexOf('?') + 1).split('&');
        for(var i = 0; i < hashes.length; i++)
        {
            hash = hashes[i].split('=');
            vars.push(hash[0]);
            vars[hash[0]] = hash[1];
        }
        return vars;

    }
    </script>
    <style>
        
          button {
                 width: 15%;
                 margin: 20px;
                  height: 100%;
              }
    </style>

</head>
<body>

<p>與網頁互動ＤＥＭＯ</p>
 
    <button id="left"  >←</button>
    <button id="down" >↓</button>
    <button id="right" >→</button>
   <button id="rotate" >rotate</button>
   
</body>
</html>